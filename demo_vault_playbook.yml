---
- name: "PLAY - demo vault"
  hosts: srv01

  vars_files:
    - secret_file.yml
  vars:
    secret1: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        34633064343837333833326331336531643231623430336236356535393965336564656262663338
        3761653061626639393062313635663864663631333734350a376366393834353232626230363565
        31646633376138313236343036306461333737313131326233396134373132303639666137376262
        3265303365363434300a333039653861313739306363646533323630396634353265306166303539
        6335

  tasks:

    - name: "Analyse variable encryptee"
      debug:
        msg : "Variable décryptée : {{ secret1 }}, {{ secret2 }}, {{ secret3 }}"